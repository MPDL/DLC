<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:fu="http://java.sun.com/jsf/composite/components/fileUpload"
	xmlns:mpdl="http://java.sun.com/jsf/composite/components/mpdl"
	xmlns:pretty="http://ocpsoft.com/prettyfaces">


<ui:composition template="templates/template.xhtml">
	<ui:define name="mainContent">
			
		<mpdl:paginator paginatorBean="#{allVolumesBean}">
		</mpdl:paginator>
		<h:panelGroup layout="block" styleClass="full_area0 itemList loggedIn">
			<div class="full_area0 listHeader">&#160;</div>
			<ol>
				<a4j:repeat id="pictureList" var="var" value="#{allVolumesBean.currentPartList}" rows="0" rowKeyVar="index">
					<h:panelGroup>
						<li class="full_area0 listItem">
	 						<h:panelGroup layout="block" styleClass="free_area0 itemHeader">
								<span class="free_area0_p8 endline itemSelectArea">
									&#160;
				 				</span>
				 				<span class="seperator"></span>
				 				<span class="free_area0_p8 status statusArea">
									<span class="noDisplay">(</span>
			 						<h:graphicImage id="img" value="#{volumeUtilBean.getDigilibScalerUrlForPage(var.pages[0],50,100)}"/>
				 					<span class="noDisplay">)</span>
				 				</span>
								<span class="seperator status"></span>
				 				<span class="free_area0_p6 endline itemHeadline">
									<b>
										<pretty:link mappingId="viewPages">
											<f:param value="#{var.item.objid}" />
											<f:param value="1" />
											<h:outputText value="[#{volumeUtilBean.getFirstNamePart(var.modsMetadata)} (#{lbl.view_dtls_editor_suffix})]" rendered="#{not empty volumeUtilBean.getFirstNamePart(var.modsMetadata).name}"/>
											<h:outputText value="[#{lbl.view_dtls_no_author} (#{lbl.view_dtls_editor_suffix})]" rendered="#{empty volumeUtilBean.getFirstNamePart(var.modsMetadata).name}"/>
											<br/>
											<!-- title - pulisher.place : publisher.publisher , dateStart - dateEnd -->
											<h:outputText value="#{volumeUtilBean.getMainTitle(var.modsMetadata).title} - #{volumeUtilBean.getMainPublisher(var.modsMetadata).place} : #{volumeUtilBean.getMainPublisher(var.modsMetadata).publisher}, #{volumeUtilBean.getMainPublisher(var.modsMetadata).dateIssued_425.date}"/>
										</pretty:link>

									</b>
				 				</span>
							</h:panelGroup>
							<h:panelGroup layout="block" styleClass="full_area0 shortView">
								<div class="free_area0_p0  small_marginLIncl endline listItemLine">
									<span class="huge_area0_p8 endline labelLine">
										<h:outputText value="#{lbl.view_dtls_title_txt}"/><span class="noDisplay">: </span>
									</span>
									<span class="xHuge_area0 endline">
										<h:outputText value="#{volumeUtilBean.getMainTitle(var.modsMetadata).title}"/>&#160;
									</span>
								</div>
	
								<h:panelGroup layout="block" styleClass="free_area0_p0 small_marginLIncl endline listItemLine">
									<span class="huge_area0_p8 endline labelLine">
										<h:outputText value="#{lbl.view_dtls_author_txt}"/>
										<span class="noDisplay">: </span>
									</span>
									
									<span class="xHuge_area0 endline">
										<h:outputText value=""/>&#160;
									</span>
									
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="free_area0_p0  small_marginLIncl endline listItemLine">
									<span class="huge_area0_p8 endline labelLine">
										<h:outputText value="#{lbl.view_dtls_date_issued_txt}"/><span class="noDisplay">: </span>
									</span>
									<span class="xHuge_area0 endline">
										<!-- TODO
										<h:outputText value="#{book.metadata.mvDateIssued}"/>&#160;
										 -->
									</span>
								</h:panelGroup>
								<!-- 
								<h:panelGroup layout="block" styleClass="free_area0_p0  small_marginLIncl endline listItemLine" rendered="#{book.type == 'MG' and EditMetadata.allowed}">
									<span class="huge_area0_p8 endline labelLine">
										<h:outputText value="#{lbl.edit_tree_toc_lastmodificationdate}"/><span class="noDisplay">: </span>
									</span>
									<span class="xHuge_area0 endline">
										<h:outputText value="#{book.toc.lmd2display}"/>&#160;
									</span>
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="free_area0_p0  small_marginLIncl endline listItemLine" rendered="#{book.type == 'MG' and EditMetadata.allowed}">
									<span class="huge_area0_p8 endline labelLine">
										<h:outputText value="#{lbl.edit_tree_toc_releasedate}"/><span class="noDisplay">: </span>
									</span>
									<span class="xHuge_area0 endline">
										<h:outputText value="#{book.toc.releaseDate}"/>&#160;
									</span>
								</h:panelGroup>
								<h:panelGroup layout="block" styleClass="free_area0_p0  small_marginLIncl endline listItemLine" rendered="#{book.type == 'MG' and EditMetadata.allowed}">
									<span class="huge_area0_p8 endline labelLine">
										<h:outputText value="#{lbl.edit_tree_toc_versionstate}"/><span class="noDisplay">: </span>
									</span>
									<span class="xHuge_area0 endline">
										<h:outputText value="#{book.toc.versionStatusLabel}"/>&#160;
									</span>
								</h:panelGroup>
								 -->
							</h:panelGroup>
						</li>
					</h:panelGroup>
				</a4j:repeat>
			</ol>
		</h:panelGroup>
			
	</ui:define>

</ui:composition>

</html>
