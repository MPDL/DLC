<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:cc="http://java.sun.com/jsf/composite"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">

	<!-- INTERFACE -->
	<cc:interface>
		<cc:attribute name="selectedStructuralType" required="true" />
		<cc:attribute name="structuralTypeChangeListener" method-signature="void method()" required="true"/>
		<cc:attribute name="teiWrapper" required="true"/>
	</cc:interface>

	<!-- IMPLEMENTATION -->
	<cc:implementation>

	<ui:remove>
		<div class="eg3_editInputArea">
			
			<h:outputText value="#{lbl.edit_structuralElementType}"/>
			<br />
			<h:selectOneMenu value="#{cc.attrs.selectedStructuralType}">
				
				<f:selectItem itemValue="#{'DIV'}" itemLabel="#{lbl.edit_elementType_div}"/>
				<f:selectItem itemValue="#{'TITLE_PAGE'}" itemLabel="#{lbl.edit_elementType_title_page}"/>
				<f:selectItem itemValue="#{'FIGURE'}" itemLabel="#{lbl.edit_elementType_figure}"/>
				<f:ajax render="@form" listener="#{cc.attrs.structuralTypeChangeListener}"/>
				
			</h:selectOneMenu>
		</div>
	</ui:remove>	
	      	
		<ui:fragment>
			<div class="eg3_editInputArea">
				<h:outputText value="#{lbl.edit_structuralType}"/>
				<br/> 
				<h:selectOneMenu value="#{cc.attrs.selectedStructuralType}">
					
					<f:selectItems value="#{structuralEditorBean.structureTypeSelectItems}"/>
					<f:ajax render="@form" listener="#{cc.attrs.structuralTypeChangeListener}"/>
				</h:selectOneMenu>
			</div>
			
			
			
		</ui:fragment>
	          
	          
	    <ui:fragment rendered="#{not (cc.attrs.selectedStructuralType == 'TITLE_PAGE' or cc.attrs.selectedStructuralType == 'FIGURE')}">     
	    <h:panelGroup layout="block">
	         <h:panelGroup layout="block" styleClass="eg3_editInputArea" rendered="#{cc.attrs.selectedStructuralType == 'free'}">
				<h:outputText value="#{lbl.edit_structuralType}"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.type}"/>
			</h:panelGroup>
	        <h:panelGroup layout="block" styleClass="eg3_editInputArea" >
				<h:outputText value="#{lbl.edit_numeration}"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.numeration}"/>
			</h:panelGroup>
	        <h:panelGroup layout="block" styleClass="eg3_editInputArea" >
				<h:outputText value="#{lbl.edit_structuralHead}"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.head[0]}"/>
			</h:panelGroup>
			

			<a4j:repeat value="#{cc.attrs.teiWrapper.teiElement.docAuthors}" var="docAuthor" rowKeyVar="rowKey">
				<h:panelGroup layout="block" styleClass="eg3_editInputArea" >
					<h:outputText value="#{lbl.edit_author}"/>
					<br/>
					<h:inputText value="#{docAuthor.author}"/>
					<br/>
					<h:outputText value="#{lbl.edit_authorInv}"/>
					<br/>
					<h:inputText value="#{docAuthor.invertedAuthor}"/>
					<br/>
					<h:outputText value="#{lbl.edit_authorPnd}"/>
					<br/>
					<h:inputText value="#{docAuthor.key}"/>
				</h:panelGroup>
				<h:panelGroup styleClass="eg3_floatRight">
					<h:commandButton action="#{volumeUtilBean.addNewTeiDocAuthor(rowKey, cc.attrs.teiWrapper.teiElement.docAuthors)}" value=" " title="#{tlt.edit_add_item}#{lbl.edit_author}" styleClass="eg3_ico_add_16">
						 <f:ajax render="@form" execute="@form"/>
					</h:commandButton>
					<h:commandButton action="#{volumeUtilBean.removeListMember(rowKey, cc.attrs.teiWrapper.teiElement.docAuthors)}" value=" " title="#{tlt.edit_remove_item}#{lbl.edit_author}" styleClass="eg3_ico_remove_16" rendered="#{cc.attrs.teiWrapper.teiElement.docAuthors.size() gt 1}">
						 <f:ajax render="@form" execute="@form"/>
					</h:commandButton>
				</h:panelGroup>
			</a4j:repeat>
			
			
			<ui:remove>
			<!-- 
			<h:panelGroup layout="block" styleClass="eg3_editInputArea" >
				<h:outputText value="#{lbl.edit_author} 1"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.author1}"/>
				<br/>
				<h:outputText value="#{lbl.edit_authorInv} 1"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.author1inv}"/>
				<br/>
				<h:outputText value="#{lbl.edit_authorPnd} 1"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.author1pnd}"/>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="eg3_editInputArea" >
				<h:outputText value="#{lbl.edit_author} 2"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.author2}"/>
				<br/>
				<h:outputText value="#{lbl.edit_authorInv} 2"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.author2inv}"/>
				<br/>
				<h:outputText value="#{lbl.edit_authorPnd} 2"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.author2pnd}"/>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="eg3_editInputArea" >
				<h:outputText value="#{lbl.edit_author} 3"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.author3}"/>
				<br/>
				<h:outputText value="#{lbl.edit_authorInv} 3"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.author3inv}"/>
				<br/>
				<h:outputText value="#{lbl.edit_authorPnd} 3"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.author3pnd}"/>
			</h:panelGroup>
			-->
			</ui:remove>
			</h:panelGroup>
		</ui:fragment>
	          
		<h:panelGroup rendered="#{cc.attrs.selectedStructuralType == 'TITLE_PAGE'}">
			<div class="eg3_editInputArea">
				<h:outputText value="#{lbl.edit_structuralHead}"/>
				<br />
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.docTitles[0].title}"/>
			</div>
		</h:panelGroup>
	          
		<h:panelGroup rendered="#{cc.attrs.selectedStructuralType == 'FIGURE'}">
			<h:panelGroup layout="block" styleClass="eg3_editInputArea" >
				<h:outputText value="#{lbl.edit_structuralHead}"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.head[0]}"/>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="eg3_editInputArea" >
				<h:outputText value="#{lbl.edit_numeration}"/>
				<br/>
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.numeration}"/>
			</h:panelGroup>
			<h:panelGroup layout="block" styleClass="eg3_editInputArea">
				<h:outputText value="#{lbl.edit_figureDescription}"/>
				<br />
				<h:inputText value="#{cc.attrs.teiWrapper.teiElement.figDesc}"/>
			</h:panelGroup>
			
		</h:panelGroup>
	            
	</cc:implementation>
</html>
	 