<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:mpdl="http://java.sun.com/jsf/composite/components/mpdl"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:ca="http://java.sun.com/jsf/composite/components/infiniteCarousel"
	xmlns:pretty="http://ocpsoft.com/prettyfaces"
	xmlns:view="http://java.sun.com/jsf/composite/components/mpdl/view">


<ui:composition template="templates/template_v3.xhtml">
	<ui:remove>
	<ui:define name="breadcrumpTitle">			
		<h:panelGroup layout="block" styleClass="eg3_container_1 eg3_breadTitle" style="background-color:#323232;">
			<mpdl:hierarchicalBreadcrumb ou="#{viewCollection.col}">
			</mpdl:hierarchicalBreadcrumb>
		</h:panelGroup>	
	</ui:define>
	</ui:remove>
	<ui:define name="mainContent">
		<h:outputScript library="components/infiniteCarousel" name="ca_scrollButtons.js" target="head"/>
		<h:outputStylesheet library="components/infiniteCarousel" name="ca_scrollButtons.css"/>
		
		<h:panelGroup layout="block" styleClass="eg3_container_1 eg3_collectionStartpage">
			<h:panelGroup layout="block" styleClass="eg3_content_bgColor_2 eg3_container_1 eg3_ribbon">
				<h:outputText value="&#160;"/>
			</h:panelGroup>
			
			<!-- title -->
			<h:panelGroup layout="block" styleClass="eg3_container_1 eg3_startpageTitle">
				<h1>
					<pretty:link mappingId="volumes">
						<f:param value="#{viewCollection.col.id}" />
						<h:outputText value="#{viewCollection.col.name}" />
					</pretty:link>
				</h1>
			</h:panelGroup>
			
			<!-- left content -->
			<h:panelGroup layout="block" styleClass="eg3_container_1_6">
				&#160;
			</h:panelGroup>
			
			<!-- main content -->
			<h:panelGroup layout="block" styleClass="eg3_container_4_5 eg3_overflow">
				<h:panelGroup layout="block" styleClass="eg3_container_1">
					<view:infoPanel descriptionTitle="#{lbl.view_collection_description}" descriptionData="#{viewCollection.col.description}" searchSize="eg3_container_1_5" searchPlaceholder="#{lbl.view_ou_collection}" searchTitle="#{tlt.col_quicksearch}"/>
				</h:panelGroup>
						
				<h:panelGroup layout="block" class="infiniteCarousel eg3_collectionCarousel" rendered="#{not empty viewCollection.volumes}" style="margin-top:2em; margin-bottom:2em;">
					<ui:remove><h:outputText value="#{lbl.view_collection_carusell_header}" style="font-size:150%"/></ui:remove>
					<h:panelGroup layout="block" class="wrapper">
						<ul>
							<ui:repeat id="volume" value="#{viewCollection.volumes}" var="volume" rowKeyVar="row">
								<li>
									<pretty:link mappingId="viewPages">
										<f:param value="#{volume.getObjidAndVersion()}" />
										<f:param value="recto-verso" />
										<f:param value="1" />
										<h:graphicImage value="#{volumeUtilBean.getImageServerUrl(volume.pages[0].contentIds, 'THUMBNAIL')}" width="75" height="75" />
									</pretty:link>
								</li>
							</ui:repeat>
						</ul>
					</h:panelGroup>
				</h:panelGroup>
				
				<h:panelGroup layout="block" styleClass="eg3_container_1">
					<view:infoPanel descriptionData="#{viewCollection.col.description} PART 2"/>
				</h:panelGroup>
			</h:panelGroup>
		</h:panelGroup>
	
	</ui:define>
</ui:composition>

</html>