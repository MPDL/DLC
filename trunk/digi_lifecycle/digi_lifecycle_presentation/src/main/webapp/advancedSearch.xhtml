<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:fu="http://java.sun.com/jsf/composite/components/fileUpload"
	xmlns:mpdl="http://java.sun.com/jsf/composite/components/mpdl">


<ui:composition template="templates/template_v3.xhtml">

	<ui:define name="mainContent">

		<h:panelGroup layout="block">
			<h:panelGroup id="searchForm">
				<h:form>
					<a4j:repeat value="#{advancedSearchBean.searchCriterionList}" var="sc" rowKeyVar="rowKey">
						<h:selectOneMenu value="#{sc.operator}" rendered="#{rowKey!=0}">						
							<f:selectItem itemLabel="#{lbl.advancedSearch_and}" itemValue="AND"/>
							<f:selectItem itemLabel="#{lbl.advancedSearch_or}" itemValue="OR"/>
						</h:selectOneMenu>
						<br/>
						
						<h:selectOneMenu value="#{sc.searchType}">						
							<f:selectItem itemLabel="#{lbl.advancedSearch_free}" itemValue="FREE"/>
							<f:selectItem itemLabel="#{lbl.advancedSearch_author}" itemValue="AUTHOR"/>
							<f:selectItem itemLabel="#{lbl.advancedSearch_title}" itemValue="TITLE"/>
							<f:selectItem itemLabel="#{lbl.advancedSearch_place}" itemValue="PLACE"/>
							<f:selectItem itemLabel="#{lbl.advancedSearch_publisherPrinter}" itemValue="PUBLISHER"/>
							<f:selectItem itemLabel="#{lbl.advancedSearch_year}" itemValue="YEAR"/>
							<f:selectItem itemLabel="#{lbl.advancedSearch_keyword}" itemValue="KEYWORD"/>
							<f:selectItem itemLabel="#{lbl.advancedSearch_identifier}" itemValue="ID"/>
							<f:selectItem itemLabel="#{lbl.advancedSearch_fulltext}" itemValue="FULLTEXT"/>
						</h:selectOneMenu>
						
						<h:inputText value="#{sc.value}"/>
						
						<h:commandButton type="button" value="+" action="#{volumeUtilBean.addNewSearchCriterion(sc, advancedSearchBean.searchCriterionList)}" >
							<f:ajax render=":#{component.parent.parent.clientId}" execute="@form"/>
						</h:commandButton>
						<h:commandButton type="button" value="-" action="#{volumeUtilBean.removeListMember(sc, advancedSearchBean.searchCriterionList)}" rendered="#{utilBean.getListSize(advancedSearchBean.searchCriterionList)>1}">
							<f:ajax render=":#{component.parent.parent.clientId}" execute="@form"/>
						</h:commandButton>
						
						<br/><br/>
					</a4j:repeat>
					<h:commandButton type="submit" value="#{lbl.advancedSearch_startSearchBtn}" action="#{advancedSearchBean.startSearch}" />
				</h:form>
			</h:panelGroup>

		
		</h:panelGroup>

	</ui:define>


</ui:composition>

</html>
